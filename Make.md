# Пример создания и связывания статической библиотеки.
```make
GCC = gcc -Wall -Werror -Wextra -std=c11
AR = ar rcs

all: rebuild

rebuild: clean stat_lib obj_stat

obj_stat: app_stat.o
	$(GCC) -L. -lfunc_stat -o app_stat app_stat.o

clean:
	rm -rf app
	rm -rf *.o
	rm -rf *.a
	rm -rf *.gch
	rm -rf app_stat

stat: func.c
	$(GCC) -c func.c -o func.o

stat_lib: stat
	$(AR) libfunc_stat.a func.o
```
## Описание:
**stat_lib** -> вызывает **stat**.  
**stat** -> компилируем func.c в func.o (в объектный файл).  
**stat_lib** -> создаём статическую библиотеку libfunc_stat.a из func.o.  
**obj_stat** -> связывает app_stat.o с библиотекой libfunc_stat.a для создания исполняемого файла app_stat.

## Дополнительно:
Автоматическое правило: make имеет встроенные правила для некоторых типов файлов. Для файлов с расширением .o, make знает, что они должны быть скомпилированы из соответствующих файлов с расширением .c с помощью компилятора C. Таким образом, если app_stat.c существует и app_stat.o не найден или устарел, make автоматически выполнит команду для его создания.

Имя файла статической библиотеки C не обязательно должно начинаться с «lib». Однако принято добавлять к имени префикс «lib», особенно при использовании этой -l опции во время связывания. Это связано с тем, что компоновщик ожидает, что библиотека будет названа в форме lib{name}.a для статических библиотек и lib{name}.soдля общих библиотек. Когда вы используете эту -l опцию с компоновщиком, он автоматически добавляет lib префикс и соответствующий суффикс (.a для статических библиотек) при поиске библиотеки. Например, если вы напишете -lfoo, компоновщик будет искать файл с именем libfoo.a. Если вы хотите использовать библиотеку, которая не соответствует lib соглашению о префиксах, вам придется указать полный путь к файлу библиотеки при связывании, не используя -l опцию.

-L. флаг, указывающий компоновщику искать библиотеки в текущем каталоге.  
Флаг -lfunc_stat для связывания с libfunc_stat.a библиотекой.

## Файлы проекта:
### app_stat.c:
```C
#include<stdio.h>
#include"func.h"

int main() {
    printf("Hello static\n");
    my_print();
    return 0;
}
```
### func.c:
```C
#include"func.h"

void my_print(){
    printf("Hello my func\n");
}
```
### func.h:
```C
#include<stdio.h>

void my_print();
```